### <a name="_b7urdng99y53"></a>**Название задачи:** Открытие депозитов для MVP
### <a name="_hjk0fkfyohdk"></a>**Автор:** Архитектор банка «Стандарт»
### <a name="_uanumrh8zrui"></a>**Дата:** 01.05.2025
### <a name="_3bfxc9a45514"></a>**Функциональные требования**

| **№** | **Действующие лица или системы** | **Use Case**                                           | **Описание**                                                                                        | 
|-------|----------------------------------|--------------------------------------------------------|-----------------------------------------------------------------------------------------------------|
| 1     | Клиент на сайте                  | Подача заявки на депозит на сайте                      | 1) Выбор депозита <br/> 2) Ввод ФИО/телефона и других данных <br/> 3) Создание заявки в кол-центре  |
| 2     | Менеджер кол-центра              | Обработка заявки с сайта                               | 1) Просмотр заявки <br/> 2) Звонок клиенту и консультация <br/> 3) Создание заявки на депозит в АБС |
| 3     | Сотрудник Бэк-офиса              | Подтверждение заявки                                   | 1) Просмотр заявки в АБС <br/> 2) Подтверждение в АБС                                               |
| 4     | Клиент в интернет-банке          | Подача заявки в интернет-банке с подтверждением по SMS | 1) Выбор параметров <br/> 2) SMS-подтверждение <br/> 3) Создание депозита в АБС                     |


### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**

| **№** | **Требование**                                                                                |
|-------|-----------------------------------------------------------------------------------------------|
| 1     | Доступность 99.9%, 24/7                                                                       |
| 2     | Горизонтальное масштабирование интернет-банка по нескольким ЦОДД                              |
| 3     | Вертикальное масштабирование АБС. Внедрение системы кеширования.                              |
| 4     | Обработка заявок менее секунды.                                                               |
| 5     | Запрет прямых запросов к АБС. Минимизация нагрузки на АБС. Асинхронная обработка через Kafka. |
| 6     | Использование/сохранение существующих технологий                                              |
| 7     | Защита персональных данных (ФИО, телефоны) и TLS-шифрование трафика                           |


### <a name="_qmphm5d6rvi3"></a>**Решение**
- Привидена диаграмма контекста в модели С4 в файле `context-c4.puml`
- Привидена диаграмма контейнеров в модели С4 в файле `container-c4.puml`. 

1) Использование Kafka для асинхронной интеграции вместо прямых вызовов, для минимизации нагрузки на АБС.
2) Постепенное внедрение: сохранение ручных процессов в MVP (верификация менеджером Бэк-офиса).
3) Текущие системы оставляем на уже работающем стеке, получается что добавляем систему сбоку.

### <a name="_bjrr7veeh80c"></a>**Альтернативы**
1) Вместо Kafka для асинхронной интеграции, использовать прямые вызовы к АБС, но имеем риски выхода из строя при увеличении нагрузки.
2) Сразу приступить к распилу АБС на микросервисную архитектуру, но долго и дорого + требования будут неполными.

**Недостатки, ограничения, риски**
1) Внедрение нового инструмента Kafka: нет опыта поддержки и еще одна возможная точка отказа в системе. 
2) Нет возможности сделать API-вызовы в системе партнерского колл-центра (только передача файлов).

